webpackJsonp([90],{"7dA4":function(e,n,a){"use strict";var t=function(){var e=this,n=e.$createElement;return(e._self._c||n)("mindmap",{staticStyle:{height:"100vh"},model:{value:e.data,callback:function(n){e.data=n},expression:"data"}})},r=[],s={render:t,staticRenderFns:r};n.a=s},G5Az:function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=a("WOS9"),r=a("7dA4"),s=a("VU/8"),c=s(t.a,r.a,!1,null,null,null);n.default=c.exports},WOS9:function(e,n,a){"use strict";var t=a("Xxa5"),r=a.n(t),s=a("exGp"),c=a.n(s);n.a={components:{mindmap:mindmap},data:function(){return{data:[{name:"",children:[{name:"股东",children:[]},{name:"高管",children:[]},{name:"对外投资",children:[]},{name:"分支机构",children:[]}]}]}},created:function(){var e=this;return c()(r.a.mark(function n(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},n,e)}))()},mounted:function(){var e=this;return c()(r.a.mark(function n(){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.setGraphData();case 2:case"end":return n.stop()}},n,e)}))()},methods:{setGraphData:function(){var e=this;return c()(r.a.mark(function n(){var a,t,s,c,i,o;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=25,n.next=3,Betools.query.queryTableDataByWhereSQL("bs_company_flow_base","_where=(id,eq,25)~and(status,eq,0)&_sort=-id");case 3:return t=n.sent,n.next=6,Betools.query.queryTableDataByWhereSQL("bs_company_stockholder","_where=(company_id,eq,25)~and(status,eq,valid)&_sort=-id");case 6:return s=n.sent,n.next=9,Betools.query.queryTableDataByWhereSQL("bs_company_senior_executive","_where=(company_id,eq,25)~and(status,eq,valid)&_sort=-id");case 9:return c=n.sent,n.next=12,Betools.query.queryTableDataByWhereSQL("bs_company_branch","_where=(company_id,eq,25)&_sort=-id");case 12:return i=n.sent,n.next=15,Betools.query.queryTableDataByWhereSQL("bs_company_investments","_where=(relation_company_id,eq,25)&_sort=-id");case 15:o=n.sent,s.map(function(e){e.id="invs_"+e.id,e.name=e.holder_name,e.desc="控股: "+e.ratio+"%"}),c.map(function(e){e.id="persons_"+e.id,e.name=e.holder_name,e.desc=e.position}),i.map(function(e){e.id="branchs_"+e.id,e.desc="法人: "+e.principal}),o.map(function(e){e.id="asInvs_"+e.id,e.name=e.company_name,e.desc="法人: "+e.legal_person}),e.data[0].name=t&&t.length>0?t[0].name:"",e.data[0].children[0].children=s,e.data[0].children[1].children=c,e.data[0].children[2].children=o,e.data[0].children[3].children=i;case 24:case"end":return n.stop()}},n,e)}))()}}}}});